# 设计规范文档（Design Specification Document）

## 1. 设计概述

- **设计理念**：融合"仙风道骨"与"现代科技"，打造独特的"数字修仙"体验，让传统智慧在数字时代焕发新生
- **目标用户**：25-40岁追求生活品质的城市白领，18-30岁对传统文化有新认知的年轻群体
- **设计原则**：
  - 天人合一：界面布局体现阴阳平衡，信息架构遵循五行相生
  - 道法自然：交互设计顺应用户直觉，动效模拟自然韵律
  - 大道至简：复杂功能简单呈现，深奥理论通俗表达
  - 气韵生动：营造仙气飘渺的视觉氛围，建立情感连接
- **设计目标**：创造沉浸式的神秘体验，将玄学智慧转化为实用指导，成为用户信赖的生活导师
- **品牌定位**：神秘而不迷信，专业而不晦涩，传统而不守旧，智能而有温度

## 2. 视觉设计规范

### 2.1 色彩系统

**主色调**
- **神秘紫**：`#8B00FF` - 代表天道玄妙，用于主要操作和品牌识别
- **深邃紫**：`#4B0082` - 象征宇宙深邃，用于背景和次要元素

**五行功能色彩**
- **青木色**：`#00CED1` - 生机勃发，用于成长、健康相关功能
- **赤火色**：`#FF6B6B` - 热情活力，用于事业、感情相关功能
- **黄土色**：`#FFB74D` - 稳重包容，用于家庭、财富相关功能
- **白金色**：`#E0E0E0` - 锐利果断，用于决策、选择相关功能
- **黑水色**：`#37474F` - 智慧深沉，用于知识、学习相关功能

**吉凶状态色**
- **大吉金**：`#FFD700` - 最佳状态、重要提示、黄道吉日标识
- **吉祥红**：`#DC143C` - 喜庆事项、正面反馈、吉时标记
- **平安绿**：`#32CD32` - 安全状态、健康良好、顺利进行
- **警示橙**：`#FF8C00` - 需要注意、轻微不利、谨慎提醒
- **凶险灰**：`#696969` - 不宜行动、需要避让、负面状态

**中性色系统**
- **墨黑**：`#1A1A1A` - 主要文字（暗色模式背景）
- **玄灰**：`#333333` - 标题文字
- **云灰**：`#666666` - 正文内容
- **雾灰**：`#999999` - 辅助文字
- **月白**：`#F5F5F5` - 主背景色
- **素白**：`#FFFFFF` - 卡片背景
- **仙雾白**：`rgba(255,255,255,0.1)` - 半透明遮罩

**渐变色系统**
- **紫气东来**：`linear-gradient(135deg, #8B00FF 0%, #4B0082 100%)`
- **仙境迷雾**：`radial-gradient(circle, rgba(139,0,255,0.3) 0%, transparent 70%)`
- **金光普照**：`linear-gradient(180deg, #FFD700 0%, #FFA500 100%)`
- **阴阳渐变**：`linear-gradient(90deg, #1A1A1A 0%, #FFFFFF 100%)`

**色彩使用规范**
- **主色使用**：品牌标识、主要按钮、当前状态、重要提示
- **五行色使用**：功能分类、模块标识、数据可视化、状态表达
- **吉凶色使用**：运势展示、择吉标记、时辰吉凶、方位指示
- **对比度要求**：
  - 正文与背景对比度 ≥ 4.5:1
  - 标题与背景对比度 ≥ 7:1
  - 确保色盲用户可识别重要信息

### 2.2 字体规范

**字体族**
- **中文主字体**：`'思源宋体', 'Noto Serif CJK SC', 'Source Han Serif SC', serif` - 传统韵味
- **中文辅字体**：`'苹方', 'PingFang SC', 'Microsoft YaHei', sans-serif` - 现代清晰
- **英文字体**：`'Helvetica Neue', Arial, sans-serif` - 简洁现代
- **数字字体**：`'DIN Alternate', 'Roboto Mono', monospace` - 清晰易读
- **装饰字体**：`'华文行楷', 'STKaiti', '楷体', serif` - 标题装饰用

**字体规格**

| 用途 | 字号 | 字重 | 行高 | 字间距 | 使用场景 |
|:----:|:----:|:----:|:----:|:----:|:----:|
| 大标题 | 36px | 300 | 1.2 | 0.02em | 页面主标题、重要提示 |
| 中标题 | 28px | 400 | 1.3 | 0.01em | 模块标题、卡片标题 |
| 小标题 | 20px | 500 | 1.4 | 0 | 列表标题、分组标题 |
| 正文 | 16px | 400 | 1.6 | 0 | 主要内容、说明文字 |
| 辅助文字 | 14px | 400 | 1.5 | 0 | 标签、注释、时间 |
| 小字 | 12px | 400 | 1.4 | 0 | 版权信息、极小提示 |
| 数字展示 | 24px | 600 | 1 | 0.02em | 运势指数、日期显示 |
| 按钮文字 | 16px | 500 | 1 | 0.01em | 各类按钮内文字 |

**特殊字体效果**
- **发光效果**：重要数字和吉日标记 `text-shadow: 0 0 10px rgba(255,215,0,0.5)`
- **描边效果**：品牌标题 `text-stroke: 1px #8B00FF`
- **渐变文字**：特殊标题 `background: linear-gradient(135deg, #8B00FF, #FFD700); -webkit-background-clip: text`

**移动端字体适配**
- 大标题：32px，中标题：24px，小标题：18px
- 正文：16px（不变），辅助文字：14px（不变），小字：12px（不变）
- 最小字号不低于12px，确保可读性

### 2.3 布局系统

**栅格系统**
- **桌面端**（≥1024px）：12列栅格，容器最大宽度1440px，列间距24px，外边距48px
- **平板端**（768px-1023px）：8列栅格，容器最大宽度100%，列间距20px，外边距32px
- **移动端**（<768px）：4列栅格，容器最大宽度100%，列间距16px，外边距16px

**间距规范**
- **基础间距单位**：8px（所有间距都是8的倍数）
- **微间距**：4px - 图标与文字间距
- **小间距**：8px - 组件内元素间距
- **中间距**：16px - 组件内部分区间距
- **大间距**：24px - 组件间间距
- **超大间距**：32px, 48px, 64px - 页面区块间距

**黄金比例应用**
- **主次区域比例**：1.618:1（如侧边栏与主内容区）
- **卡片高宽比**：1:1.618（接近黄金矩形）
- **内容区留白**：上下左右留白遵循斐波那契数列（8, 13, 21, 34px）

**圆角规范**
- **微圆角**：4px - 按钮、输入框、标签
- **小圆角**：8px - 卡片、提示框、下拉菜单
- **中圆角**：12px - 模态框、大卡片、图片容器
- **大圆角**：16px - 特殊容器、装饰元素
- **圆形**：50% - 头像、八卦图、太极图
- **椭圆**：`border-radius: 50% / 30%` - 仙云装饰

**阴影系统**
- **微阴影**：`0 1px 3px rgba(0,0,0,0.12)` - 轻微层次
- **轻阴影**：`0 2px 8px rgba(139,0,255,0.15)` - 悬浮卡片
- **中阴影**：`0 4px 16px rgba(139,0,255,0.2)` - 弹窗菜单
- **重阴影**：`0 8px 32px rgba(139,0,255,0.25)` - 模态框
- **发光效果**：`0 0 20px rgba(255,215,0,0.5)` - 吉日高亮
- **内阴影**：`inset 0 2px 4px rgba(0,0,0,0.1)` - 凹陷效果

**特殊视觉效果**
- **毛玻璃效果**：`backdrop-filter: blur(10px); background: rgba(255,255,255,0.1)`
- **光晕效果**：`filter: drop-shadow(0 0 10px rgba(139,0,255,0.5))`
- **粒子背景**：使用Canvas或CSS动画创建飘动的光点
- **云雾效果**：多层半透明渐变叠加

## 3. 交互设计规范

### 3.1 导航系统

**主导航**
- **导航结构**：底部标签栏（移动端）+ 顶部功能栏（桌面端）
- **导航层级**：最多3级，采用面包屑导航辅助
- **当前页标识**：图标发光 + 文字变色 + 底部光条
- **移动端导航**：
  - 5个固定图标：今日、决策、生活、学习、我的
  - 中间按钮特殊设计：八卦图形，旋转动画
  - 点击反馈：轻微缩放 + 涟漪效果

**页面跳转**
- **跳转方式**：当前页跳转为主，外链新窗口打开
- **过渡动画**：
  - 页面切换：云雾淡入淡出 300ms
  - 模块展开：从中心扩散 250ms
  - 列表加载：逐项淡入，每项延迟50ms
- **加载状态**：
  - 全页加载：太极旋转动画
  - 局部加载：八卦符号旋转
  - 骨架屏：保持布局结构，光波扫过效果

**面包屑**
- **显示规则**：深度超过2级时显示
- **样式规范**：`首页 > 智慧决策 > 择吉查询`
- **分隔符**：使用 ">" 或传统云纹图案
- **点击行为**：支持点击返回任意层级

### 3.2 交互反馈

**按钮状态**
- **默认状态**：背景色90%透明度，边框1px
- **悬停状态**：背景色100%，发光效果，轻微上浮2px
- **点击状态**：缩放95%，背景色加深，涟漪扩散效果
- **禁用状态**：透明度40%，灰度滤镜，光标变为not-allowed
- **加载状态**：按钮内显示八卦旋转图标，文字变为"请稍候..."

**表单交互**
- **输入框状态**：
  - 默认：边框 #E0E0E0，背景 #FAFAFA
  - 聚焦：边框渐变紫色，发光效果，标签上浮
  - 填充：边框 #8B00FF，背景白色
  - 错误：边框 #FF6B6B，底部显示错误信息
- **验证反馈**：
  - 实时验证：输入时检查格式
  - 失焦验证：离开输入框时验证
  - 提交验证：最终检查所有字段
- **选择器样式**：
  - 下拉框：带搜索功能，选项hover变色
  - 日期选择：农历公历切换，节气标注
  - 时辰选择：12时辰圆盘式选择器

**系统反馈**
- **成功提示**：顶部滑入，金色背景，3秒后自动消失
- **错误提示**：中央弹窗，红色图标，需手动关闭
- **警告提示**：右上角通知，橙色标记，5秒后淡出
- **操作确认**：模态框确认，毛玻璃背景，防误操作

### 3.3 动效规范

**核心动效原则**
- **道法自然**：模拟自然界的运动规律（云飘、水流、光影）
- **适度克制**：动效服务于功能，不过度装饰
- **性能优先**：优先使用transform和opacity，避免重排重绘

**过渡效果**
- **页面切换**：`opacity + transform: translateY(20px)` duration: 300ms, easing: cubic-bezier(0.4, 0, 0.2, 1)
- **卡片展开**：`scale(0.95) -> scale(1)` duration: 250ms, easing: ease-out
- **抽屉滑出**：`translateX(-100%) -> translateX(0)` duration: 350ms, easing: ease-in-out
- **渐显效果**：`opacity: 0 -> 1` duration: 200ms, 每项延迟50ms

**微交互**
- **按钮点击**：缩放动画 scale(0.95) duration: 100ms
- **图标悬停**：旋转15度 + 发光效果 duration: 200ms
- **卡片悬停**：上浮4px + 阴影加深 duration: 150ms
- **输入聚焦**：标签上浮 + 下划线展开 duration: 200ms

**特色动效**
- **八卦旋转**：持续旋转，速度 60秒/圈，悬停加速到10秒/圈
- **光环扩散**：从中心向外扩散的光圈，周期2秒，透明度渐变
- **粒子飘动**：星光点点效果，随机运动轨迹，视差滚动
- **云雾流动**：多层PNG叠加，不同速度横向移动，营造深度
- **呼吸效果**：元素大小和透明度循环变化，周期3秒

**加载动画**
- **全局Loading**：太极图缓慢旋转 + 下方文字"天机运转中..."
- **局部Loading**：八个卦象依次点亮，循环播放
- **骨架屏动画**：光波从左到右扫过，模拟内容加载
- **数据加载**：数字从0递增到目标值，配合光效

## 4. 页面详细设计（文字版原型）

### 4.1 页面设计总览

基于PRD中的页面架构，为每个页面提供详细的设计描述，作为开发实现的直接指导。每个页面都遵循"天地人"的设计理念：天部（顶部导航）、地部（底部标签栏）、人部（中间内容区）。

### 4.2 页面逐一设计说明

#### 页面1：欢迎引导页

**页面基本信息**
- **页面文件名**：welcome.html / index.html（首次访问）
- **页面标题**：天人合一 - 张大师智慧生活导航
- **页面描述**：通过神秘而优雅的视觉体验，引导用户了解产品价值并完成初始设置
- **页面类型**：引导页/设置页

**页面整体布局结构**
```
┌─────────────────────────────────────────────────────────┐
│                      全屏背景                             │ 高度: 100vh
│  深紫渐变(#4B0082→#8B00FF) + 星空粒子动效 + 云雾流动      │
│                                                          │
│     ┌──────────────────────────────────────┐           │
│     │          张大师形象区                  │           │ 高度: 40vh
│     │    [仙风道骨的大师剪影，带光晕效果]     │           │ 淡入动画2s
│     │         渐显的八卦符号环绕              │           │ 旋转动画
│     └──────────────────────────────────────┘           │
│                                                          │
│     ┌──────────────────────────────────────┐           │
│     │            欢迎词区域                  │           │ 高度: 20vh
│     │   "天人合一，道法自然"                 │           │ 36px 金色渐变字
│     │   "让千年智慧指引现代生活"              │           │ 18px 白色透明度80%
│     └──────────────────────────────────────┘           │
│                                                          │
│     ┌──────────────────────────────────────┐           │
│     │          操作区域                      │           │ 高度: 30vh
│     │     [开启智慧之旅] 主按钮               │           │ 金色渐变背景
│     │                                       │           │ 发光脉冲效果
│     │     已有账号？[登录]                   │           │ 文字链接样式
│     └──────────────────────────────────────┘           │
│                                                          │
│     ● ● ● ● ●  (页面指示器)                             │ 底部10vh
└─────────────────────────────────────────────────────────┘
```

**引导流程设计**（左右滑动切换）
```
第1屏：品牌展示
├─ 大师形象 + 品牌标语
├─ 核心价值传达
└─ 继续按钮

第2屏：功能介绍
├─ 图标化功能展示（择吉、养生、风水、运势）
├─ 一句话说明每个功能价值
└─ 滑动提示

第3屏：个性化设置
├─ "让我们更了解您"
├─ 基础信息录入表单
    ├─ 姓名（选填）
    ├─ 性别（必选）
    ├─ 出生日期时间（必填）
    └─ 出生地点（自动定位/手动选择）
└─ 开始使用按钮

第4屏：权限申请
├─ 通知权限（接收每日运势）
├─ 位置权限（精确风水分析）
├─ 日历权限（智能提醒）
└─ 跳过/完成设置
```

**关键元素设计细节**

- **大师形象区域**：
  - 尺寸：200px × 200px 圆形区域
  - 效果：外圈金色光环缓慢脉冲(0.5透明度到0.8)，周期3秒
  - 动画：形象2秒淡入，八卦符号延迟1秒出现并持续旋转
  - 交互：点击大师形象触发神秘音效和金光闪烁

- **欢迎词展示**：
  - 主标语：36px 华文行楷，金色渐变文字效果
  - 副标语：18px 苹方常规，白色80%透明度
  - 动画：文字逐字显示效果，每字间隔100ms

- **操作按钮设计**：
  - 主按钮：宽280px 高56px，圆角28px
  - 背景：金色渐变 (#FFD700 → #FFA500)
  - 效果：持续的光晕脉冲动画 + 悬停时放大105%
  - 文字：18px 白色加粗，带轻微阴影

- **信息录入表单**：
  - 输入框：底部边框式设计，聚焦时边框发光
  - 日期选择：自定义时辰选择器，显示农历
  - 地点选择：三级联动（省市区） + 地图定位
  - 验证提示：实时显示在输入框下方

**页面状态设计**
- **加载状态**：全屏太极图旋转，下方显示"正在沟通天机..."
- **网络错误**：保留视觉效果，显示"暂时无法连接，请检查网络"
- **定位失败**：自动切换到手动选择地点模式

**动效时间线**
```
0ms: 背景渐显
500ms: 星空粒子开始运动
1000ms: 大师形象淡入
2000ms: 八卦符号出现并旋转
2500ms: 欢迎词逐字显示
3500ms: 操作按钮淡入并开始脉冲
```

**移动端适配**
- 大师形象缩小至150px
- 文字大小相应缩小(主标语28px，副标语16px)
- 按钮宽度适配屏幕宽度80%
- 表单采用全屏宽度设计

#### 页面2：今日运势页（首页）

**页面基本信息**
- **页面文件名**：home.html / today.html
- **页面标题**：今日运势 - 张大师
- **页面描述**：展示个性化的每日运势指导，包含黄历、时辰、五行等综合信息
- **页面类型**：信息展示型首页

**页面整体布局结构**
```
┌─────────────────────────────────────────────────────────┐
│                    顶部问候区                            │ 高度: 120px
│  ┌─────────────────────────────────────────────────┐   │ 渐变背景
│  │  早安，道友  ☀️                    天气 23°C 晴   │   │
│  │  2025年9月26日 农历八月廿六 【秋分】              │   │
│  │  甲辰年 癸酉月 壬午日  [青龙日]                   │   │
│  └─────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────┤
│                    运势仪表盘                            │ 高度: 200px
│  ┌─────────────────────────────────────────────────┐   │
│  │            今日综合运势 ★★★★☆                   │   │
│  │     ┌───────────────────────────────────┐       │   │
│  │     │         [八卦罗盘动画]              │       │   │ 中央旋转
│  │     │    事业 ████░  健康 ████████        │       │   │ 五行色彩
│  │     │    感情 ████████  财运 ███░░        │       │   │
│  │     │    学业 ██████  人际 ████████       │       │   │
│  │     └───────────────────────────────────┘       │   │
│  │         幸运色：蓝  幸运数：3,8  幸运方位：东南     │   │
│  └─────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────┤
│                    黄历宜忌卡片                          │ 高度: 140px
│  ┌──────────────────┬──────────────────┐             │
│  │       宜 ✓       │      忌 ✗        │             │
│  │  ┌──┬──┬──┬──┐ │  ┌──┬──┬──┬──┐  │             │
│  │  │开│纳│祈│出│ │  │动│安│开│置│  │             │ 圆角标签
│  │  │市│采│福│行│ │  │土│葬│仓│产│  │             │
│  │  └──┴──┴──┴──┘ │  └──┴──┴──┴──┘  │             │
│  └──────────────────┴──────────────────┘             │
├─────────────────────────────────────────────────────────┤
│                    时辰运势轴                            │ 高度: 160px
│  ┌─────────────────────────────────────────────────┐   │
│  │  子 丑 寅 卯 辰 巳 午 未 申 酉 戌 亥              │   │ 横向滚动
│  │  凶 平 吉 吉 大吉 平 凶 平 吉 大吉 平 凶           │   │ 当前时辰高亮
│  │  ═══════●═══════════════════════════              │   │ 时间进度条
│  │  23-1 1-3 3-5 5-7 7-9 9-11...                   │   │
│  └─────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────┤
│                    智能建议区                            │ 高度: 240px
│  ┌─────────────────────────────────────────────────┐   │
│  │  🎯 今日关键提醒                                  │   │
│  │  ┌───────────────────────────────────────────┐   │   │
│  │  │ • 9:00-11:00 巳时大吉，宜签约谈判           │   │   │
│  │  │ • 午餐建议清淡，秋分养阴，推荐银耳汤         │   │   │
│  │  │ • 下午申时财运旺，适合投资决策              │   │   │
│  │  │ • 今日五行属水，穿蓝黑色系增强运势          │   │   │
│  │  └───────────────────────────────────────────┘   │   │
│  │                                                  │   │
│  │  [查看详细指导] [设置提醒]                       │   │ 操作按钮
│  └─────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────┤
│                    快捷功能网格                          │ 高度: 120px
│  ┌────┬────┬────┬────┬────┐                          │
│  │择吉│养生│风水│占卜│知识│                          │ 图标+文字
│  │ 📅 │ 🍃 │ 🏡 │ ☯️ │ 📚 │                          │
│  └────┴────┴────┴────┴────┘                          │
├─────────────────────────────────────────────────────────┤
│                    底部标签栏                            │ 高度: 60px
│  ┌────┬────┬────┬────┬────┐                          │
│  │今日│决策│生活│学习│我的│                          │ 固定底部
│  └────┴────┴────┴────┴────┘                          │
└─────────────────────────────────────────────────────────┘
```

**关键组件详细设计**

- **顶部问候区**：
  - 背景：紫色渐变 (#8B00FF → #4B0082) + 云雾动效
  - 问候语：根据时辰变化（早安/午安/晚安）+ 道友称呼
  - 日期显示：公历 + 农历 + 节气标注 + 特殊日子标记
  - 天气集成：实时温度 + 天气图标 + 空气质量

- **运势仪表盘**：
  - 中央元素：八卦罗盘，缓慢旋转(30秒/圈)
  - 数据可视化：雷达图展示6维运势，使用五行对应色彩
  - 运势条：渐变色填充，动画加载效果
  - 底部信息：幸运元素采用标签样式，可点击查看解释

- **黄历宜忌卡片**：
  - 布局：左右对称，中间分割线采用太极图案
  - 宜事项：绿色标签，圆角4px，内边距8px
  - 忌事项：红色标签，相同样式
  - 交互：点击标签显示详细解释浮层

- **时辰运势轴**：
  - 展示方式：横向时间轴，可左右滑动
  - 当前时辰：放大显示，金色高亮，脉冲效果
  - 吉凶标识：大吉(金色)、吉(绿色)、平(灰色)、凶(红色)
  - 进度指示：当前时间点的实时位置标记

- **智能建议区**：
  - 卡片样式：白色背景，紫色边框，内发光效果
  - 图标使用：每条建议配emoji图标增强可读性
  - 重要性排序：按时间顺序 + 重要程度排列
  - 操作按钮：次级样式，可展开更多建议

- **快捷功能网格**：
  - 图标设计：融合传统符号的现代图标
  - 交互效果：悬停放大 + 旋转，点击涟漪扩散
  - 徽章提示：右上角显示待办数量或更新提示

**数据更新机制**
- 每日0点：更新黄历、运势基础数据
- 每小时：刷新时辰信息，推送时辰提醒
- 实时更新：天气信息每30分钟更新
- 手动刷新：下拉刷新支持，转动太极loading

**页面交互流程**
```
进入页面 → 展示loading(太极旋转) →
获取用户数据 → 计算今日运势 →
动画展示运势仪表盘 → 逐项显示其他模块 →
检查重要提醒 → 显示通知标记
```

**移动端适配设计**
- 运势仪表盘：缩小至150px高度，简化为主要4项运势
- 时辰轴：固定显示5个时辰，其余滑动查看
- 建议区：默认收起，显示2条，点击展开全部
- 快捷功能：改为横向滑动，一屏显示3个

#### 页面3：智慧决策页

**页面基本信息**
- **页面文件名**：decision.html
- **页面标题**：智慧决策 - 张大师
- **页面描述**：提供择吉查询、事业指导、感情分析等重大决策支持
- **页面类型**：功能操作页

**页面整体布局结构**
```
┌─────────────────────────────────────────────────────────┐
│                    页面标题栏                            │ 高度: 80px
│                    智慧决策                              │ 32px 居中
│                 "谋定而后动，知止而有得"                   │ 16px 副标题
├─────────────────────────────────────────────────────────┤
│                   场景化择吉区                           │ 高度: 200px
│  ┌──────────┬──────────┬──────────┬──────────┐       │
│  │  结婚    │   搬家    │   开业    │   求职    │       │ 2×2网格
│  │   💑     │    🏠     │    🏪     │    💼     │       │ 大图标
│  │  选良辰  │  择吉日   │  开市吉  │  面试佳  │       │
│  └──────────┴──────────┴──────────┴──────────┘       │
├─────────────────────────────────────────────────────────┤
│                  自定义择吉区                            │ 高度: 180px
│  ┌─────────────────────────────────────────────────┐   │
│  │  📝 自定义事项择吉                               │   │
│  │  ┌─────────────────────────────────────────┐   │   │
│  │  │ 事项名称：________________                │   │   │ 输入框
│  │  │ 开始日期：______ 结束日期：______          │   │   │ 日期选择
│  │  │ 参考因素：□八字 □五行 □节气 □星宿         │   │   │ 多选框
│  │  │         [立即查询]                       │   │   │ 主按钮
│  │  └─────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────┤
│                  近期吉日推荐                            │ 可变高度
│  ┌─────────────────────────────────────────────────┐   │
│  │  📅 未来7天黄道吉日                              │   │
│  │  ┌───────────────────────────────────────────┐   │   │
│  │  │ 10月1日 周二 农历八月廿九                   │   │   │ 日期卡片
│  │  │ 青龙黄道日 ⭐⭐⭐⭐⭐                      │   │   │
│  │  │ 宜：开市 交易 立券 纳财 出行 嫁娶          │   │   │
│  │  │ 时辰：巳时(9-11) 申时(15-17)大吉          │   │   │
│  │  │ [查看详情] [加入日历]                     │   │   │
│  │  ├───────────────────────────────────────────┤   │   │
│  │  │ 10月8日 周二 农历九月初六                   │   │   │
│  │  │ 金匮黄道日 ⭐⭐⭐⭐                        │   │   │
│  │  │ 宜：祈福 求嗣 纳采 嫁娶 安床              │   │   │
│  │  └───────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────┤
│                  专项决策指导                            │ 高度: 160px
│  ┌─────────────────────────────────────────────────┐   │
│  │  💼 事业发展分析      查看近期事业运势走向 →      │   │ 列表项
│  │  ❤️ 感情姻缘测算      测试双方八字合婚度 →        │   │
│  │  🎯 重大决策咨询      一对一智能分析指导 →        │   │
│  └─────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

**功能模块详细设计**

- **场景化择吉模块**：
  - 卡片尺寸：(屏宽-48)/2 × 100px
  - 图标：64px，采用渐变色彩
  - 悬停效果：卡片上浮4px + 阴影加深 + 图标旋转
  - 点击后：展开详细的择吉参数设置

- **自定义择吉表单**：
  - 事项输入：带placeholder提示"如：签合同、装修、理发等"
  - 日期选择：显示农历，标注节气和特殊日子
  - 参考因素：默认全选，可自定义组合
  - 查询按钮：loading时显示八卦旋转动画

- **吉日推荐列表**：
  - 日期卡片：白色背景，左侧彩色竖条标识吉凶等级
  - 星级评分：5星制，金色五角星，支持半星
  - 宜忌展示：关键词标签化，不同颜色区分
  - 操作按钮：次级按钮样式，支持分享功能

- **择吉结果展示**（查询后）：
```
┌─────────────────────────────────────────────────┐
│              择吉结果 - 结婚                      │
│  ┌─────────────────────────────────────────┐   │
│  │  最佳日期：2025年10月15日                 │   │ 特殊高亮
│  │  吉利指数：⭐⭐⭐⭐⭐ 99分               │   │
│  │  ┌───────────────────────────────┐       │   │
│  │  │        [罗盘动画展示]           │       │   │ 可视化
│  │  │    八字相合度：95%              │       │   │
│  │  │    五行相生度：88%              │       │   │
│  │  │    天时地利度：92%              │       │   │
│  │  └───────────────────────────────┘       │   │
│  │                                          │   │
│  │  详细分析：                               │   │
│  │  此日为天德合日，月德合日，最宜嫁娶...      │   │
│  │                                          │   │
│  │  吉时选择：                               │   │
│  │  巳时(9-11点) - 龙凤呈祥，最佳           │   │
│  │  午时(11-13点) - 日照中天，次选          │   │
│  │                                          │   │
│  │  [保存结果] [分享好友] [加入日历]         │   │
│  └─────────────────────────────────────────┘   │
└─────────────────────────────────────────────────┘
```

**交互流程设计**
```
选择场景/自定义 → 输入参数 →
点击查询 → 显示loading →
展示结果列表 → 选择日期 →
查看详情 → 保存/分享
```

**移动端适配**
- 场景卡片：改为单列展示，高度80px
- 表单区域：全屏宽度，上下排列
- 结果展示：简化可视化，突出关键信息

#### 页面4：生活指南页

**页面基本信息**
- **页面文件名**：lifestyle.html
- **页面标题**：生活指南 - 张大师
- **页面描述**：提供衣食住行全方位的生活指导和养生建议
- **页面类型**：分类导航页

**页面整体布局结构**
```
┌─────────────────────────────────────────────────────────┐
│                    页面标题区                            │ 高度: 100px
│                     生活指南                             │
│         今日关键词：养阴润燥 | 蓝色系 | 东南吉            │ 标签展示
├─────────────────────────────────────────────────────────┤
│                    分类标签栏                            │ 高度: 50px
│     [衣] [食] [住] [行] [养生] [全部]                   │ 可切换
├─────────────────────────────────────────────────────────┤
│                   内容展示区                             │ 可滚动
│  ┌─────────────────────────────────────────────────┐   │
│  │  👔 衣 - 今日穿搭指南                            │   │ 模块标题
│  │  ┌───────────────────────────────────────────┐   │   │
│  │  │  五行属性：今日水旺                        │   │   │
│  │  │  ┌─────────────┐  推荐搭配              │   │   │
│  │  │  │             │  主色：深蓝/黑色         │   │   │ 图文结合
│  │  │  │  [服装图]   │  辅色：白色/银色         │   │   │
│  │  │  │             │  材质：棉麻、丝绸        │   │   │
│  │  │  └─────────────┘  配饰：银饰、水晶       │   │   │
│  │  │                                          │   │   │
│  │  │  搭配建议：                               │   │   │
│  │  │  上衣选择深蓝色衬衫，下装配黑色西裤...      │   │   │
│  │  │  [查看更多搭配] [生成搭配图]             │   │   │
│  │  └───────────────────────────────────────────┘   │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  🍜 食 - 节气饮食养生                            │   │
│  │  ┌───────────────────────────────────────────┐   │   │
│  │  │  秋分时节·养阴润燥                        │   │   │
│  │  │  ┌──────┬──────┬──────┐                │   │   │
│  │  │  │ 早餐 │ 午餐 │ 晚餐 │                │   │   │ 三餐规划
│  │  │  ├──────┼──────┼──────┤                │   │   │
│  │  │  │银耳羹│清炖鸭│素时蔬│                │   │   │
│  │  │  │小米粥│莲藕汤│杂粮饭│                │   │   │
│  │  │  └──────┴──────┴──────┘                │   │   │
│  │  │                                          │   │   │
│  │  │  今日宜：梨、莲藕、银耳、百合              │   │   │ 食材推荐
│  │  │  今日忌：辛辣、油腻、生冷                 │   │   │
│  │  │  [查看食谱] [营养分析]                   │   │   │
│  │  └───────────────────────────────────────────┘   │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  🏠 住 - 居家风水布局                            │   │
│  │  ┌───────────────────────────────────────────┐   │   │
│  │  │  今日吉位：东南方(财位) 正东方(文昌位)       │   │   │
│  │  │  ┌─────────────────────────┐             │   │   │
│  │  │  │    [房间平面图]           │             │   │   │ 方位图
│  │  │  │    东南★ 南     东★     │             │   │   │
│  │  │  │    西    中宫    北      │             │   │   │
│  │  │  │    西南   西北   东北    │             │   │   │
│  │  │  └─────────────────────────┘             │   │   │
│  │  │  布局建议：                               │   │   │
│  │  │  • 书桌移至东方，提升学业事业              │   │   │
│  │  │  • 东南方摆放绿植或水晶，增强财运          │   │   │
│  │  │  • 避免在西方进行重要活动                 │   │   │
│  │  │  [AR看风水] [专业分析]                   │   │   │
│  │  └───────────────────────────────────────────┘   │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  🚗 行 - 出行择时择向                            │   │
│  │  ┌───────────────────────────────────────────┐   │   │
│  │  │  吉时出行：卯时(5-7) 巳时(9-11) 申时(15-17)│   │   │
│  │  │  吉利方位：东南方、正南方                  │   │   │
│  │  │  ┌─────────────────────────┐             │   │   │
│  │  │  │    [地图展示]             │             │   │   │ 地图集成
│  │  │  │    标注吉凶方位           │             │   │   │
│  │  │  └─────────────────────────┘             │   │   │
│  │  │  出行建议：                               │   │   │
│  │  │  • 重要会议安排在上午9-11点               │   │   │
│  │  │  • 向东南方向的活动更容易成功              │   │   │
│  │  │  [导航规划] [查看详情]                   │   │   │
│  │  └───────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

**模块交互设计**

- **分类切换**：
  - 点击标签筛选对应内容
  - 当前标签高亮显示+下划线
  - 切换时内容区域淡入淡出动画

- **内容卡片**：
  - 默认收起状态显示摘要
  - 点击展开查看详细内容
  - 支持左右滑动切换日期

- **个性化定制**：
  - 基于用户八字五行调整建议
  - 根据地理位置优化方位指导
  - 记录用户偏好，智能推荐

**数据更新**
- 每日更新：凌晨更新全部内容
- 节气更新：节气变化时更新养生方案
- 实时计算：方位吉凶根据时辰实时变化

#### 页面5：个人中心页

**页面基本信息**
- **页面文件名**：profile.html
- **页面标题**：个人中心 - 张大师
- **页面描述**：管理个人信息、查看历史记录、数据分析报告
- **页面类型**：设置管理页

**页面整体布局结构**
```
┌─────────────────────────────────────────────────────────┐
│                    用户信息区                            │ 高度: 200px
│  ┌─────────────────────────────────────────────────┐   │ 紫色渐变背景
│  │     ┌────┐                                      │   │
│  │     │头像│  道友·张三                           │   │
│  │     └────┘  己巳年生人 | 土命 | 震卦              │   │
│  │             会员等级：玄阶 | 修行天数：168         │   │
│  │     [编辑资料] [会员特权]                       │   │
│  └─────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────┤
│                    数据统计区                            │ 高度: 120px
│  ┌────────┬────────┬────────┬────────┐              │
│  │  择吉   │  养生   │  占卜   │  学习   │              │ 统计卡片
│  │  23次   │  156天  │  8卦    │  42篇   │              │
│  └────────┴────────┴────────┴────────┘              │
├─────────────────────────────────────────────────────────┤
│                    功能列表区                            │
│  ┌─────────────────────────────────────────────────┐   │
│  │  📊 运势报告         查看月度运势分析报告 >       │   │ 列表项
│  │  📜 历史记录         择吉记录、占卜历史 >         │   │
│  │  ⭐ 我的收藏         收藏的内容和建议 >          │   │
│  │  🎯 个人画像         八字命理、五行属性 >         │   │
│  │  ⚙️ 通知设置         推送时间、提醒类型 >         │   │
│  │  🌙 深色模式         开关                       │   │ 开关组件
│  │  📖 使用指南         功能介绍、常见问题 >         │   │
│  │  💬 意见反馈         问题反馈、功能建议 >         │   │
│  │  📞 联系我们         客服支持、商务合作 >         │   │
│  └─────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────┤
│                    退出登录                              │ 高度: 60px
└─────────────────────────────────────────────────────────┘
```

**个人画像详情页**
```
┌─────────────────────────────────────────────────────────┐
│                    命理画像                              │
│  ┌─────────────────────────────────────────────────┐   │
│  │  基础信息                                        │   │
│  │  姓名：张三  性别：男  属相：蛇                   │   │
│  │  生辰：1989年6月15日 14时30分                   │   │
│  │  八字：己巳 庚午 甲申 辛未                       │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  五行分析                                        │   │ 雷达图
│  │  ┌─────────────────────────┐                   │   │
│  │  │      [五行雷达图]         │                   │   │
│  │  │   金★★★  木★★         │                   │   │
│  │  │   水★     火★★★★     │                   │   │
│  │  │   土★★★★★           │                   │   │
│  │  └─────────────────────────┘                   │   │
│  │  您的五行属土，土旺缺水...                       │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  性格特征                                        │   │
│  │  • 为人忠厚，做事踏实                           │   │ 标签云
│  │  • 重情重义，值得信赖                           │   │
│  │  • 有时过于固执，需要变通                        │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  运势趋势                                        │   │ 折线图
│  │  ┌─────────────────────────┐                   │   │
│  │  │    [年度运势曲线图]       │                   │   │
│  │  └─────────────────────────┘                   │   │
│  │  [生成详细报告] [分享给朋友]                     │   │
│  └─────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

### 4.3 公共组件在页面中的应用

**顶部导航栏**（桌面端）
- 高度：60px，白色背景，底部1px边框 #E0E0E0
- Logo：左侧，高40px，点击返回首页
- 功能按钮：右侧，通知图标、设置图标
- 固定在顶部，滚动时添加阴影

**底部标签栏**（移动端）
- 高度：60px，白色背景，顶部1px边框
- 5个标签：均分宽度，图标24px + 文字12px
- 当前标签：紫色图标 + 紫色文字 + 顶部2px紫色线
- 点击效果：缩放动画 + 涟漪效果

**浮动操作按钮**
- 位置：右下角，距离边缘24px
- 尺寸：56px圆形，紫色渐变背景
- 功能：快速访问占卜、择吉等核心功能
- 交互：点击展开子菜单，背景模糊

**Loading组件**
- 全屏Loading：太极图旋转 + "天机运转中..."
- 局部Loading：八卦符号旋转，尺寸自适应
- 骨架屏：保持布局，灰色块占位，光波动画

**空状态组件**
- 插图：200px，灰度处理的仙鹤图
- 文字："暂无数据" + "快去探索更多功能吧"
- 按钮：引导至相关功能页面

### 4.4 页面间的一致性设计

**视觉一致性**
- 色彩系统：全站统一使用定义的色彩系统
- 字体层级：标题、正文、辅助文字保持一致
- 间距规范：所有页面遵循8px基础单位
- 圆角样式：同类型元素使用相同圆角值

**交互一致性**
- 点击反馈：所有可点击元素都有视觉反馈
- 动画时长：页面切换300ms，组件动画200ms
- 手势操作：下拉刷新、左右滑动行为一致
- 错误提示：统一的错误提示样式和位置

**布局一致性**
- 页面结构：头部-内容-底部三段式布局
- 内容宽度：桌面端最大1440px，移动端100%
- 安全区域：考虑刘海屏和圆角屏幕

## 5. 组件设计规范

### 5.1 基础组件

**按钮组件**

| 类型 | 样式描述 | 尺寸 | 使用场景 | CSS样式 |
|:----:|:----:|:----:|:----:|:----:|
| 主按钮 | 紫色渐变，白色文字 | 高48px，内边距24px | 主要操作 | `background: linear-gradient(135deg, #8B00FF, #4B0082); color: #fff; border-radius: 24px; box-shadow: 0 4px 16px rgba(139,0,255,0.3);` |
| 次按钮 | 白色背景，紫色边框 | 高44px，内边距20px | 次要操作 | `background: #fff; border: 1px solid #8B00FF; color: #8B00FF; border-radius: 22px;` |
| 文字按钮 | 无背景，紫色文字 | 高40px，内边距16px | 辅助操作 | `background: none; color: #8B00FF; text-decoration: underline;` |
| 吉日按钮 | 金色渐变，白色文字 | 高48px，内边距24px | 吉日标记 | `background: linear-gradient(135deg, #FFD700, #FFA500); color: #fff;` |
| 危险按钮 | 红色背景，白色文字 | 高44px，内边距20px | 删除操作 | `background: #DC143C; color: #fff;` |

**输入组件**

| 组件 | 样式描述 | 尺寸 | 状态样式 | 验证提示 |
|:----:|:----:|:----:|:----:|:----:|
| 文本输入框 | 底部边框式 | 高48px，字体16px | 聚焦：紫色边框+发光 | 错误：红色边框+底部提示 |
| 搜索框 | 圆角+搜索图标 | 高44px，圆角22px | 聚焦：边框变紫 | 实时搜索建议下拉 |
| 文本域 | 圆角边框 | 最小高度100px | 聚焦：边框发光 | 右下角字数统计 |
| 日期时辰选择 | 自定义选择器 | 高200px | 选中：紫色高亮 | 显示农历和节气 |

**选择组件**
- **单选框**：圆形，选中时紫色填充+白色勾
- **多选框**：方形圆角，选中时紫色背景+白色勾
- **开关**：椭圆形，开启时紫色，带滑动动画
- **下拉选择**：点击展开，选项hover变紫色背景

**展示组件**

**卡片组件**
```css
.card {
  background: #FFFFFF;
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 2px 8px rgba(139,0,255,0.1);
  transition: all 0.3s ease;
}
.card:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 16px rgba(139,0,255,0.2);
}
```

**标签组件**
- 普通标签：圆角4px，内边距4px 8px，灰色背景
- 五行标签：对应五行颜色，带图标
- 吉凶标签：大吉(金)、吉(绿)、平(灰)、凶(红)

**徽章组件**
- 数字徽章：红色圆形，显示在图标右上角
- 状态徽章：不同颜色表示不同状态
- 等级徽章：会员等级标识，带光效

### 5.2 业务组件

**运势仪表盘**
```javascript
// 配置示例
{
  type: 'radar', // 雷达图
  size: 200,
  data: {
    事业: 80,
    健康: 95,
    感情: 70,
    财运: 60,
    学业: 85,
    人际: 90
  },
  colors: ['#00CED1', '#32CD32', '#FF6B6B', '#FFB74D', '#37474F', '#E0E0E0'],
  animation: true
}
```

**时辰轮盘**
```css
.time-wheel {
  width: 300px;
  height: 300px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(139,0,255,0.1), transparent);
  position: relative;
  animation: rotate 60s linear infinite;
}
.time-segment {
  position: absolute;
  transform-origin: center;
  /* 12个时辰，每个30度 */
}
```

**八卦罗盘**
- 中心太极图：黑白旋转
- 八卦符号：围绕太极排列
- 外圈文字：天干地支标注
- 指针：指向当前时辰方位

**择吉日历**
- 月视图：显示整月，标记吉凶
- 日视图：详细时辰和宜忌
- 农历显示：并列显示公历农历
- 节气标注：特殊颜色标记

**黄历卡片**
```
┌────────────────────────┐
│  2025年9月26日  星期五  │ 日期条
├────────────────────────┤
│  农历八月廿六 【秋分】   │ 节气标注
├──────────┬─────────────┤
│    宜    │     忌      │ 宜忌分栏
│  开市    │   动土      │
│  纳采    │   安葬      │
└──────────┴─────────────┘
```

## 6. 响应式设计

### 6.1 断点设置

```css
/* 移动端优先 */
/* 超小屏幕 (手机竖屏) */
@media (max-width: 575px) {
  .container { padding: 0 16px; }
}

/* 小屏幕 (手机横屏) */
@media (min-width: 576px) and (max-width: 767px) {
  .container { padding: 0 20px; }
}

/* 中等屏幕 (平板) */
@media (min-width: 768px) and (max-width: 1023px) {
  .container { padding: 0 32px; }
}

/* 大屏幕 (桌面) */
@media (min-width: 1024px) and (max-width: 1439px) {
  .container { max-width: 1200px; padding: 0 48px; }
}

/* 超大屏幕 (宽屏) */
@media (min-width: 1440px) {
  .container { max-width: 1440px; padding: 0 64px; }
}
```

### 6.2 布局适配策略

**移动端优化**
- **导航适配**：底部标签栏，5个固定图标
- **内容布局**：单列卡片，垂直滚动
- **表格适配**：横向滚动或转换为卡片
- **图片适配**：
  ```css
  img {
    max-width: 100%;
    height: auto;
  }
  ```
- **触控优化**：
  - 最小点击区域 44×44px
  - 间距增大到16px
  - 支持滑动手势

**平板端优化**
- **布局调整**：双列卡片布局
- **导航形式**：侧边栏可收起
- **字体调整**：适度增大到18px基准
- **交互优化**：支持触控和鼠标

**桌面端优化**
- **多列布局**：最多4列网格
- **侧边栏**：固定显示，宽度240px
- **悬停效果**：丰富的hover交互
- **键盘支持**：Tab导航，快捷键

### 6.3 组件响应式规范

**导航组件适配**
```css
/* 移动端：底部标签栏 */
@media (max-width: 767px) {
  .nav-bottom {
    position: fixed;
    bottom: 0;
    height: 60px;
    display: flex;
  }
  .nav-top { display: none; }
}

/* 桌面端：顶部导航 */
@media (min-width: 768px) {
  .nav-top {
    position: fixed;
    top: 0;
    height: 60px;
  }
  .nav-bottom { display: none; }
}
```

**卡片组件适配**
```css
.card-grid {
  display: grid;
  gap: 16px;
}

/* 移动端：1列 */
@media (max-width: 575px) {
  .card-grid { grid-template-columns: 1fr; }
}

/* 平板：2列 */
@media (min-width: 576px) and (max-width: 1023px) {
  .card-grid { grid-template-columns: repeat(2, 1fr); }
}

/* 桌面：3-4列 */
@media (min-width: 1024px) {
  .card-grid { grid-template-columns: repeat(3, 1fr); }
}

@media (min-width: 1440px) {
  .card-grid { grid-template-columns: repeat(4, 1fr); }
}
```

**字体响应式**
```css
/* 流式字体大小 */
html {
  font-size: calc(14px + (16 - 14) * ((100vw - 375px) / (1440 - 375)));
}

/* 或使用断点 */
@media (max-width: 767px) {
  h1 { font-size: 28px; }
  h2 { font-size: 24px; }
  body { font-size: 16px; }
}

@media (min-width: 768px) {
  h1 { font-size: 36px; }
  h2 { font-size: 28px; }
  body { font-size: 16px; }
}
```

## 7. 可访问性设计

### 7.1 颜色和对比度

- **文字对比度**：
  - 正文文字与背景：≥4.5:1 (WCAG AA)
  - 大文字(18px+)与背景：≥3:1
  - 重要信息与背景：≥7:1 (WCAG AAA)

- **颜色使用**：
  - 不仅依赖颜色传达信息
  - 吉凶状态同时使用图标和文字
  - 提供高对比度模式选项

### 7.2 交互可访问性

- **键盘导航**：
  ```css
  /* 焦点样式 */
  :focus {
    outline: 2px solid #8B00FF;
    outline-offset: 2px;
  }
  ```
  - 支持Tab键顺序导航
  - 提供跳过导航链接
  - 模态框焦点锁定

- **屏幕阅读器**：
  ```html
  <!-- ARIA标签 -->
  <button aria-label="查看今日运势详情">
    <span aria-hidden="true">🔮</span>
    详情
  </button>
  ```

- **触控友好**：
  - 最小触控目标：44×44px
  - 链接间距：至少8px
  - 滑动区域：至少72px高度

### 7.3 内容可访问性

- **文字内容**：
  - 清晰的标题层级(h1-h6)
  - 段落不超过80字符宽度
  - 行高至少1.5倍

- **图片内容**：
  ```html
  <img src="bagua.svg" alt="八卦图：乾坤震巽坎离艮兑">
  ```

- **表单可访问**：
  ```html
  <label for="birth-date">出生日期</label>
  <input id="birth-date" type="date" required aria-describedby="date-help">
  <span id="date-help">请选择您的出生日期，用于计算八字</span>
  ```

## 8. 暗色模式设计

### 8.1 暗色主题色彩

```css
:root[data-theme="dark"] {
  /* 背景色 */
  --bg-primary: #0A0A0A;
  --bg-secondary: #1A1A1A;
  --bg-tertiary: #2A2A2A;

  /* 文字色 */
  --text-primary: #FFFFFF;
  --text-secondary: #B0B0B0;
  --text-tertiary: #808080;

  /* 主题色保持 */
  --color-primary: #8B00FF;
  --color-primary-dark: #4B0082;

  /* 功能色调整 */
  --color-success: #4CAF50;
  --color-warning: #FFA726;
  --color-error: #EF5350;

  /* 边框和分割线 */
  --border-color: rgba(255,255,255,0.1);
  --divider-color: rgba(255,255,255,0.05);
}
```

### 8.2 暗色模式适配

**组件适配**
```css
/* 卡片在暗色模式 */
[data-theme="dark"] .card {
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}

/* 输入框在暗色模式 */
[data-theme="dark"] input {
  background: var(--bg-tertiary);
  border-color: var(--border-color);
  color: var(--text-primary);
}
```

**图片和图标处理**
```css
/* 暗色模式下调整图片亮度 */
[data-theme="dark"] img {
  opacity: 0.9;
  filter: brightness(0.8);
}

/* 图标颜色反转 */
[data-theme="dark"] .icon {
  filter: invert(1);
}
```

### 8.3 主题切换

**切换动画**
```css
* {
  transition: background-color 0.3s ease,
              color 0.3s ease,
              border-color 0.3s ease;
}
```

**自动切换逻辑**
```javascript
// 根据时间自动切换
const hour = new Date().getHours();
if (hour >= 18 || hour < 6) {
  document.documentElement.setAttribute('data-theme', 'dark');
}

// 跟随系统设置
if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
  document.documentElement.setAttribute('data-theme', 'dark');
}
```

## 9. 开发交付说明

### 9.1 设计资产

**图标库**
- **图标风格**：线性图标为主，2px描边
- **图标尺寸**：16px, 20px, 24px, 32px, 48px
- **图标格式**：SVG格式，支持颜色自定义
- **特殊图标**：
  - 八卦符号：8个卦象SVG
  - 太极图：可旋转动画
  - 生肖图标：12生肖简化图形
  - 五行图标：金木水火土符号

**图片规范**
- **图片格式**：WebP首选，JPEG/PNG备选
- **图片尺寸**：
  - 头像：120×120px
  - 卡片图：16:9 (640×360px)
  - 背景图：1920×1080px
- **图片优化**：
  - 压缩率85%
  - 支持lazy loading
  - 提供2x资源for retina

**动画资源**
- Lottie动画文件：JSON格式
- CSS动画库：预设动画类
- Canvas动画：粒子效果代码

### 9.2 技术实现建议

**推荐技术栈**
- **框架**：Next.js 14+ (App Router)
- **样式**：Tailwind CSS + CSS Modules
- **组件库**：自定义组件 + Radix UI
- **动画**：Framer Motion + CSS动画
- **图表**：ECharts / D3.js
- **状态管理**：Zustand
- **工具库**：Day.js (日期处理)

**CSS变量定义**
```css
:root {
  /* 颜色变量 */
  --color-primary: #8B00FF;
  --color-primary-dark: #4B0082;
  --color-success: #32CD32;
  --color-warning: #FF8C00;
  --color-error: #DC143C;
  --color-gold: #FFD700;

  /* 五行色彩 */
  --color-wood: #00CED1;
  --color-fire: #FF6B6B;
  --color-earth: #FFB74D;
  --color-metal: #E0E0E0;
  --color-water: #37474F;

  /* 字体变量 */
  --font-serif: '思源宋体', serif;
  --font-sans: '苹方', sans-serif;
  --font-size-base: 16px;
  --line-height-base: 1.6;

  /* 间距变量 */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 48px;

  /* 圆角变量 */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;

  /* 阴影变量 */
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.12);
  --shadow-md: 0 2px 8px rgba(139,0,255,0.15);
  --shadow-lg: 0 4px 16px rgba(139,0,255,0.2);
  --shadow-xl: 0 8px 32px rgba(139,0,255,0.25);

  /* 动画时长 */
  --duration-fast: 100ms;
  --duration-normal: 200ms;
  --duration-slow: 300ms;

  /* 动画缓动 */
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
}
```

**浏览器兼容性**
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+
- iOS Safari 14+
- Chrome Mobile 90+

### 9.3 开发实现要点

**CSS架构**
```scss
styles/
├── base/
│   ├── reset.css      // 重置样式
│   ├── variables.css  // CSS变量
│   └── typography.css // 字体样式
├── components/
│   ├── button.css
│   ├── card.css
│   └── ...
├── layouts/
│   ├── header.css
│   ├── footer.css
│   └── nav.css
├── pages/
│   ├── home.css
│   ├── decision.css
│   └── ...
├── themes/
│   ├── light.css
│   └── dark.css
└── main.css
```

**性能优化**
- **CSS优化**：
  - PurgeCSS移除未使用样式
  - CSS压缩和合并
  - 关键CSS内联

- **图片优化**：
  ```html
  <!-- 响应式图片 -->
  <picture>
    <source media="(max-width: 768px)" srcset="image-mobile.webp">
    <source media="(min-width: 769px)" srcset="image-desktop.webp">
    <img src="image.jpg" alt="描述" loading="lazy">
  </picture>
  ```

- **动画性能**：
  ```css
  /* 使用GPU加速 */
  .animate {
    transform: translateZ(0);
    will-change: transform;
  }

  /* 避免重排重绘 */
  .transition {
    transition: transform 0.3s, opacity 0.3s;
    /* 不使用 width, height, padding 等触发重排的属性 */
  }
  ```

**组件开发规范**
```typescript
// 组件接口定义
interface ButtonProps {
  variant: 'primary' | 'secondary' | 'text' | 'danger';
  size: 'small' | 'medium' | 'large';
  loading?: boolean;
  disabled?: boolean;
  icon?: React.ReactNode;
  children: React.ReactNode;
  onClick?: () => void;
}

// 组件实现
const Button: React.FC<ButtonProps> = ({
  variant = 'primary',
  size = 'medium',
  loading = false,
  disabled = false,
  icon,
  children,
  onClick
}) => {
  const className = clsx(
    'btn',
    `btn-${variant}`,
    `btn-${size}`,
    {
      'btn-loading': loading,
      'btn-disabled': disabled
    }
  );

  return (
    <button
      className={className}
      disabled={disabled || loading}
      onClick={onClick}
    >
      {loading ? <Spinner /> : icon}
      <span>{children}</span>
    </button>
  );
};
```

**特殊功能实现**

1. **八卦罗盘组件**
```javascript
class BaguaCompass {
  constructor(canvas) {
    this.ctx = canvas.getContext('2d');
    this.rotation = 0;
  }

  draw() {
    // 绘制太极图
    this.drawTaiji();
    // 绘制八卦
    this.drawBagua();
    // 绘制指针
    this.drawPointer();
  }

  animate() {
    this.rotation += 0.5;
    this.draw();
    requestAnimationFrame(() => this.animate());
  }
}
```

2. **粒子效果背景**
```javascript
class ParticleBackground {
  constructor(container) {
    this.particles = [];
    this.init();
  }

  init() {
    // 创建粒子
    for (let i = 0; i < 50; i++) {
      this.particles.push({
        x: Math.random() * window.innerWidth,
        y: Math.random() * window.innerHeight,
        size: Math.random() * 3 + 1,
        speedX: Math.random() * 2 - 1,
        speedY: Math.random() * 2 - 1,
        opacity: Math.random() * 0.5 + 0.5
      });
    }
  }

  update() {
    this.particles.forEach(particle => {
      particle.x += particle.speedX;
      particle.y += particle.speedY;

      // 边界检测
      if (particle.x < 0 || particle.x > window.innerWidth) {
        particle.speedX *= -1;
      }
      if (particle.y < 0 || particle.y > window.innerHeight) {
        particle.speedY *= -1;
      }
    });
  }
}
```

3. **时辰计算工具**
```javascript
class ChineseTime {
  static getShichen() {
    const hour = new Date().getHours();
    const shichens = [
      '子时', '丑时', '寅时', '卯时',
      '辰时', '巳时', '午时', '未时',
      '申时', '酉时', '戌时', '亥时'
    ];
    const index = Math.floor((hour + 1) / 2) % 12;
    return shichens[index];
  }

  static getLunar(date) {
    // 农历转换逻辑
    // 返回农历日期字符串
  }

  static getSolarTerm(date) {
    // 节气计算逻辑
    // 返回当前节气
  }
}
```

**测试要点**
- 响应式布局测试（多设备）
- 暗色模式切换测试
- 动画性能测试
- 可访问性测试（屏幕阅读器）
- 浏览器兼容性测试

## 10. 设计交付清单

### 必要交付物
- [ ] 本设计规范文档 (DESIGN_SPEC.md)
- [ ] 色彩palette文件 (colors.json)
- [ ] 图标SVG文件集
- [ ] 关键页面线框图描述
- [ ] CSS变量配置文件
- [ ] 动画效果示例代码

### 开发支持
- [ ] 组件库文档
- [ ] 响应式断点说明
- [ ] 浏览器兼容性列表
- [ ] 性能优化建议
- [ ] 可访问性checklist

### 后续迭代
- [ ] 用户测试反馈收集
- [ ] 设计系统更新日志
- [ ] 新功能设计补充
- [ ] 视觉优化建议

---

**设计规范版本**：v1.0.0
**更新日期**：2025年9月26日
**设计团队**：张大师产品设计组
**联系方式**：design@captainzhang.ai

> "道法自然，天人合一。让设计成为连接传统与现代的桥梁。"